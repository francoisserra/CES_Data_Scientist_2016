\documentclass[c]{beamer}

\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage{adjustbox}

% figures
\setbeamerfont{caption}{size=\tiny}

% margins
\setbeamersize{text margin left=3em, text margin right=3em}

% puces
\setbeamertemplate{itemize item}[ball] % Pour le premier niveau
\setbeamertemplate{itemize subitem}[triangle] % Pour le deuxième niveau
\setbeamertemplate{itemize subsubitem}[circle] % Pour le troisième niveau

\setbeamerfont{section in toc}{size=\scriptsize}
\setbeamerfont{subsection in toc}{size=\tiny}

% links
\definecolor{links}{HTML}{2A1B81}
\hypersetup{colorlinks,linkcolor=,urlcolor=links}

% theme
\usetheme{Warsaw}


\title[Satellite images for human density prediction]{Landsat-8 satellite images \\for human density prediction}

\author{Youcef Kacer}

\institute{\href{http://www.github.com/ykacer/}{www.github.com/ykacer}}

\date{2017,January 25\textsuperscript{th}}

%color
\colorlet{rouge}{red} % rename colors in frencj
\colorlet{grisfonce}{darkgray}
\colorlet{titre}{yellow}
\definecolor{vertmoyen}{RGB}{51,110,23} % custom rgb color
\definecolor{rouge}{HTML}{DD0000} % custom html color

\begin{document}
\begin{frame}
\titlepage
\logo{\includegraphics[height=5mm]{images/logo/TelecomParisTech_logo_200_01.png}}
\end{frame}

\begin{frame}
\tableofcontents
\end{frame}

\section{Presentation}
\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\begin{frame}
\begin{itemize}
\item Population census is expensive using conventional methods\\
  \begin{itemize}
  \item 180 millions euros in France (\href{http://www.assemblee-nationale.fr/13/rap-info/i1246.asp}{officials,1999})\\ 
  \end{itemize}
\item How Satellites images could explain human density?\\
\item How to transform satellite images to best explain human density?\\
\end{itemize}
\end{frame}

\section{Landsat-8 imagery}
\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\subsection{Earth Covering}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}

\begin{itemize}
\item Total earth covering defined by (path,row) grid pattern and achieved every 16 days
\end{itemize}
\begin{columns}
\begin{column}{\textwidth}
\begin{overlayarea}{\linewidth}{4cm}
  \centering\vfill
  \includegraphics[scale=0.2]{images/covering/wrs.png}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{1cm}
  \centering
  \tiny Landsat-8 grid covering (path,row) for Virginia ($USA$)\par
\end{overlayarea}
\end{column}
\end{columns}

\end{frame}

\subsection{Image Georeferencement}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{itemize}
 \item Landsat-8 images are georeferenced which means each pixel has (x,y) meter coordinates in a certain Projection Coordinates 
System (\begin{itshape}ex: UTM, Lambert 93, Web Mercator,...\end{itshape})
\end{itemize}

\begin{columns}
\begin{column}{0.30\textwidth}
\begin{overlayarea}{\linewidth}{5cm}
  \centering\vfill
  \includegraphics[scale=0.2]{images/georeferencing/Thonon_landsat.png}
\end{overlayarea}
\end{column}
\begin{column}{0.30\textwidth}
\begin{overlayarea}{\linewidth}{1cm}
  \centering
  \tiny Landsat-8 Eastern-France image path=$196$,row=$028$ georeferenced in $UTM$ system (image containing city Thonon-les-Bains)\par
\end{overlayarea}
\end{column}

\begin{column}{0.50\textwidth}
\begin{block}{\scriptsize UTM corner coordinates (meters)}
{\tiny
 \begin{itemize}
  \item upper-left (486202.777, 5958940.580)\\
  \item lower-left (486202.777, 5610657.403)\\
  \item upper-right (828135.467, 5958940.580)\\
  \item lower-right (828135.467, 5610657.403)\\
  \item center (657169.122, 5784798.992)\\
 \end{itemize}
}
\end{block}
\end{column}
\end{columns}

\end{frame}

\begin{frame}
\begin{itemize}
 \item Landsat-8 georeferencement can be checked comparing with another georeferenced source like $IGN$ using a $SIG$ (open source $QGIS$).
\end{itemize}

\begin{columns}[t]
\begin{column}{0.30\textwidth}
%\begin{overlayarea}{\linewidth}{0.0cm}
%  \centering
%  \par
%\end{overlayarea}
\begin{overlayarea}{\linewidth}{3cm}
  \centering\vfill
  \includegraphics[height=2.5cm,width=2.5cm]{images/georeferencing/ign-points-Thonon.png}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{2cm}
  \centering
  \scriptsize IGN map georeferenced in $Lambert$ $93$ system\par
\end{overlayarea}
\end{column}
\begin{column}{0.30\textwidth}
%\begin{overlayarea}{\linewidth}{0.0cm}
%  \centering
%  \par
%\end{overlayarea}
\begin{overlayarea}{\linewidth}{3cm}
  \centering\vfill
  \includegraphics[height=2.5cm,width=2.5cm]{images/georeferencing/qgis-resultat.png}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{2cm}
  \centering
  \scriptsize Then IGN image is tranformed to be georeferenced in $UTM$ system\par
\end{overlayarea}
\end{column}
\begin{column}{0.30\textwidth}
%\begin{overlayarea}{\linewidth}{0.0cm}
%  \centering
%  \par
%\end{overlayarea}
\begin{overlayarea}{\linewidth}{3cm}
  \centering\vfill
  \includegraphics[height=2.5cm,width=2.5cm]{images/georeferencing/qgis-superposition0.png}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{2cm}
  \centering
  \scriptsize Superposition of IGN map and Landsat-8 image both georeferenced in $UTM$ system\par
\end{overlayarea}
\end{column}
\end{columns}

\end{frame}

\section{Importing Data}
\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\subsection{Image query}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
 \begin{itemize}
 \item Query images from \href{https://earthexplorer.usgs.gov/}{\begin{itshape}U.S geological Survey\end{itshape}} website with criterias:
 \begin{itemize}
  \item cloud covering $\le$ 20\%\\
  \item day acquisition\\
  \item between May, 2013 and September, 2013\\ 
 \end{itemize}
 
\end{itemize}

\begin{columns}[t]
\begin{column}{0.50\textwidth}
\begin{overlayarea}{\linewidth}{4cm}
  \centering\vfill
  \includegraphics[scale=0.11]{../../data/France/france-selection.png}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{1cm}
  \centering
  \scriptsize Polygon selection on $USGS$ website\par
\end{overlayarea}
\end{column}

\begin{column}{0.50\textwidth}
\begin{overlayarea}{\linewidth}{4cm}
  \centering\vfill
  \includegraphics[scale=0.25]{../../data/France/covering-selection.png}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{1cm}
  \centering
  \scriptsize 70 resulting datasets georeferenced in \begin{itshape}Web Mercator\end{itshape} system\par
\end{overlayarea}
\end{column}
\end{columns}

\end{frame}

\subsection{Image bands}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
 \begin{itemize}
  \item Landsat-8 dataset is composed of 
  \begin{itemize}
   \item 11 bands (OLI/TRS sensors) + 1 quality band (cloudyness of each pixel)
   \item Possible combinaison of bands to extract information (bands 4 and 5 for vegetation presence)
 \end{itemize}
\end{itemize}
 
\begin{columns}
\begin{column}{0.80\textwidth}
\begin{overlayarea}{\linewidth}{4cm}
  \centering\vfill
  \includegraphics[scale=0.13]{images/bands/landsat8_bands.jpg}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{1cm}
  \centering
  \scriptsize \href{http://landsat.gsfc.nasa.gov/sentinel-2a-launches-our-compliments-our-complements/}{Landsat-8 bands (OLI/TIRS sensors)}\par
\end{overlayarea}
\end{column}
\end{columns}
\end{frame}

\section{Importing labels}
\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\subsection{Importing densities}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
 \begin{itemize}
  \item Take cities surfaces and densities from 2013 official census (\href{http://www.insee.fr/fr/ppp/bases-de-donnees/recensement/populations-legales/pages2015/zip/HIST_POP_COM_RP13.zip}{INSEE})
  \item Take cities latitude and longitude from Google geolocator (\href{https://geopy.readthedocs.io/en/1.10.0/}{Python API Geopy})
 \end{itemize}

\begin{columns}
\begin{column}{0.80\textwidth}
\begin{overlayarea}{\linewidth}{3cm}
\begin{table}
\begin{center}
\begin{adjustbox}{max width=\textwidth}
{\LARGE
\begin{tabular}{|c|c|c|c|c|}
\hline 
name & latitude (degrees) & longitude (degrees) & surface (km\textsuperscript{2}) & density (habs/km\textsuperscript{2}) \\
\hline
Ozan & 46.391534 & 4.915265 & 6.6 & 98.3\\
\hline 
Cormoranche-sur-Sa\^{o}ne & 46.240532 & 4.830863 & 9 & 118.9\\
\hline 
Paris & 48.856614 & 2.352222 & 105.4 & 21153.9\\
\hline
Lyon & 45.764043 & 4.835659 & 47.87 & 10117.0\\
\hline
Tours & 47.394144 & 0.68484 & 34.67 & 3888.2\\
\hline
Besancon & 47.237829 & 6.024054 & 65.05 & 1797.9\\
\hline 
... & ... & ... & ... & ... \\
\hline
\end{tabular}
}
\end{adjustbox}
\end{center}
\end{table}
\end{overlayarea}
\begin{overlayarea}{\linewidth}{1cm}
  \centering
  \scriptsize34190 cities (instances)\par
\end{overlayarea}
\end{column}
\end{columns}

\end{frame}

\subsection{Categorize densities to Classification}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{itemize}
 \item Categorize densities applying clustering (Otsu mutli-thresholding)
\end{itemize}

\begin{columns}
 \begin{column}{0.50\textwidth}
  \begin{overlayarea}{\linewidth}{3cm}
  \centering\vfill
  \includegraphics[scale=0.25]{images/labels/densite_histo_otsu_zoom.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny Density histogram (habs/km\textsuperscript{2})\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.50\textwidth}
  \begin{overlayarea}{\linewidth}{3cm}
  {\tiny
    \begin{itemize}
    \item[catégory 1:] density between 0 and 500 habs/km\textsuperscript{2}
    \item[catégory 2:] density between 500 and 2000 habs/km\textsuperscript{2}
    \item[catégory 3:] density between 2000 and 5000 habs/km\textsuperscript{2}
    \item[catégory 4:] density between 5000 and 10000 habs/km\textsuperscript{2}
    \item[catégory 5:] density between 10000 and 13000 habs/km\textsuperscript{2}
    \item[catégory 6:] density greater than 13000 habs/km\textsuperscript{2}
    \end{itemize}
  }
  \end{overlayarea}
 \end{column}
\end{columns}

\begin{table}
\begin{center}
\begin{adjustbox}{max width=\textwidth}
{\tiny
\begin{tabular}{|c|c|c|c|c|c|}
\hline 
city & latitude (degrees) & longitude (degrees) & surface (km\textsuperscript{2}) & density (habs/km\textsuperscript{2}) & density (category)\\
\hline
Ozan & 46.391534 & 4.915265 & 6.6 & 98.3 & 1\\
\hline 
Cormoranche-sur-saone & 46.240532 & 4.830863 & 9 & 118.9 & 1\\
\hline 
Paris & 48.856614 & 2.352222 & 105.4 & 21153.9 & 6\\
\hline
Lyon & 45.764043 & 4.835659 & 47.87 & 10117.0 & 5\\
\hline
Tours & 47.394144 & 0.68484 & 34.67 & 3888.2 & 3\\
\hline
Besancon & 47.237829 & 6.024054 & 65.05 & 1797.9 & 1\\
\hline 
... & ... & ... & ... & ... & ...\\
\hline
\end{tabular}
}
\end{adjustbox}
\end{center}
\end{table}

\end{frame}

\section{Vegetation index extraction}
\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\subsection{NDVI extraction}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{itemize}
{
 \item Compute Normalized Difference Vegetation Indice using bands 4 (Red) and 5 (Near-Infra-Red) for each dataset :
 {\scriptsize \[NDVI=\frac{NIR-R}{NIR+R}\]}
 \item Values between -1 and 1
 \item $\leq 0$ for water, snow and cloud
 \item $\leq 0.2$ for  ground without vegetation
 \item $\geq 0.2$ for ground vegetation
}
\end{itemize}

\begin{columns}
 \begin{column}{0.33\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
  \centering\vfill
  \includegraphics[scale=0.15]{images/Paris/05_rgb.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny RGB (Paris,May 2013) \par
  \end{overlayarea}
 \end{column}
  \begin{column}{0.33\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
  \centering\vfill
  \centerline{
  \includegraphics[scale=0.15]{images/Paris/05_ndvi.png}
  \includegraphics[scale=0.13]{images/colormap.png}
  }
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny NDVI (Paris,May 2013) \par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.33\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
  \centering\vfill
  \includegraphics[scale=0.12]{images/Paris/05_ndvi_histo.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny NDVI (1024 bins)-histogram (Paris,May 2013) \par
  \end{overlayarea}
 \end{column}
\end{columns}

\end{frame}

\subsection{NDVI evolution}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}

\begin{columns}
 \begin{column}{0.75\textwidth}
 
 \begin{overlayarea}{\linewidth}{2cm}
 \begin{itemize}
 \item NDVI histogram could explain human density
 \begin{itemize}
  \item \scriptsize low ndvi mode for high density (poor vegetation)
  \item \scriptsize high ndvi mode for low density (rich vegetation)
 \end{itemize}
 \end{itemize}
 \end{overlayarea}

  \begin{overlayarea}{\linewidth}{4.5cm}
  \centering\vfill
  \includegraphics[scale=0.17]{images/ndvi/ndvi_categorie.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny NDVI (1024 bins)-histograms (French cities, July 2013) \par
  \end{overlayarea}
  
 \end{column}
 \begin{column}{0.25\textwidth}
 
 \begin{overlayarea}{\linewidth}{0.5cm}
  \centering\vfill
  \includegraphics[scale=0.17]{images/Brignancourt/07_ndvi.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny NDVI - Brignancourt (66 habs/km\textsuperscript{2}) - July 2013) \par
  \end{overlayarea}
  
  \begin{overlayarea}{\linewidth}{0.9cm}
  \centering\vfill
  \includegraphics[scale=0.17]{images/Louvres/07_ndvi.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny NDVI - Louvres (824 habs/km\textsuperscript{2}) - July 2013) \par
  \end{overlayarea}
  
  \begin{overlayarea}{\linewidth}{1.2cm}
  \centering\vfill
  \includegraphics[scale=0.17]{images/Abbeville/07_ndvi.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny NDVI - Abbeville (914 habs/km\textsuperscript{2}) - July 2013 \par
  \end{overlayarea}
  
  \begin{overlayarea}{\linewidth}{1.6cm}
  \centering\vfill
  \includegraphics[scale=0.17]{images/Lyon/07_ndvi.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
  \centering
  \tiny NDVI - Lyon (10117 habs/km\textsuperscript{2}) - July 2013) \par
  \end{overlayarea}  
 \end{column}

\end{columns}


\end{frame}

\subsection{Data to Machine Learning}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
 \begin{itemize}
  \item Explanatory variables : NDVI (1024 bins)-histograms of the 34190 cities
  \item Predictable variable : density of the 34190 cities for regresion
  \item Predictable variable : density category of the 34190 cities for classification
  \item Principal Component Analysis over 600 components (100\% of variance explained)
 \end{itemize}
 
\begin{columns}
\begin{column}{0.8\textwidth}
\begin{table}
\begin{center}
\begin{adjustbox}{max width=0.9\textwidth}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}

\hline 
city &  bin-1 & bin-2 & ... & bin-511 & bin-512 &... & bin-1023 & bin-1024 & density (habs/km\textsuperscript{2})  & density (category)\\
\hline 
Ozan & 0 & 0 & ... & 1 & 5 & ... & 0 & 0 & 93.8 & 1\\
\hline 
Cormoranche-sur-Sa\^{o}ne & 0 & 0 & ... & 1 & 4 & ... & 0 & 0 & 118.9 & 1\\
\hline 
Paris & 0 & 0 & ... & 1953 & 1815 & ... & 0 & 0 & 21153.9 & 6\\
\hline
Lyon & 0 & 0 & ... & 1099 & 1032 & ... & 0 & 0 & 10117.0 & 5\\
\hline
Tours & 0 & 0 & ... & 268 & 238 & ... & 0 & 0 & 3888.2 & 3\\
\hline
Besancon & 0 & 0 & ... & 97 & 122 & ... & 0 & 0 & 1797.9 & 1\\
\hline 
... & ... & ... & ... & ... & ... & ... & ... & ... & ... & ... \\
\hline
\end{tabular}
\end{adjustbox}
\end{center}
\end{table}
\end{column}
\begin{column}{0.35\textwidth}
{\tiny
\begin{alertblock}{Very imbalanced data for classification!}
\begin{table}
 \begin{tabular}{|c|c|}
  \hline
  category & number of samples\\
  \hline
  \textbf{1} & 32533\\
  \hline
  \textbf{2} & 1252\\
  \hline
  \textbf{3} & 288\\
  \hline
  \textbf{4} & 78\\
  \hline
  \textbf{5} & 15\\
  \hline
  \textbf{6} & 24 \\
  \hline
 \end{tabular}
\end{table}
\end{alertblock}
}
\end{column}
\end{columns}
\end{frame}

\section{Supervised Classification}
\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\subsection{K-Nearest Neighbors}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{itemize}
 \item Overcome imbalanced data by oversampling minority class $c_{i}$, using SMOTE technique (Synthetic Minority Oversampling TEchnique) with a factor $n_{1}/n_{i}$
      \begin{columns}
      \begin{column}{0.5\textwidth}
      \centering\vfill
      \includegraphics[scale=0.17]{images/oversampling/smote.png}
      \end{column}
      \begin{column}{0.5\textwidth}
      {\tiny
      Let's $x_{i}$,$x_{i1}$, $x_{i2}$, $x_{i3}$ and $x_{i4}$ be points of minority class $i$ and $y_{jk}$ the points of 
      majority class $j$ , choose each new sample $r_{l}$ for class $i$ that maximizes $\sum \limits_{\underset{}{k=1}}^{n_{j}} (y_{jk}-r_{l})^2$
      }
      \end{column}
    \end{columns}
  \item Best cross-validation (stratified 3-folds) of $94.74$\% obtained for number of neighboors $k = 5$. 
 \end{itemize}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/France/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/France/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}

\begin{columns}
\begin{column}{0.6\textwidth}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{ \begin{bf}Confusion matrix after refitting\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 32533 & 0 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{2} & 0 & 1252 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{3} & 0 & 0 & 288 & 0 & 0 & 0\\
    \hline
    \textbf{4} & 0 & 0 & 0 & 78 & 0 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 0 & 0 & 15 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 24\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
\end{column}
\begin{column}{0.6\textwidth}
%    \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting\end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 100\% & 100\% & 1.0 & 32533\\
%       \hline
%       \textbf{2} & 100\% & 100\% & 1.0 & 1252\\
%       \hline
%       \textbf{3} & 100\% & 100\% & 1.0 & 288\\
%       \hline
%       \textbf{4} & 100\% & 100\% & 1.0 & 78\\
%       \hline
%       \textbf{5} & 100\% & 100\% & 1.0 & 15\\
%       \hline
%       \textbf{6} & 100\% & 100\% & 1.0 & 24\\
%       \hline
%       \textbf{total} & 100\% & 100\% & 1.0 & 34190\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/France/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification_roc.png}
\end{column}

\end{columns}
\end{frame}


\subsection{Support-Vector Machine (Gaussian Kernel)}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{itemize}
\item Overcome imbalanced data by increasing regularization parameter $C_{i}$ for minority classes $i$ :  $C_{i} = n/n_{i}$

\begin{columns}
 \begin{column}{0.35\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
    \centering\vfill
     \includegraphics[scale=0.17]{../4_classification/images/svm/svm_g_1_1.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny $C=1$ - bad classification\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.35\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
    \centering\vfill
    \includegraphics[scale=0.17]{../4_classification/images/svm/svm_g_1_10.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny  $C=10$ - no overfitting\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.35\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
    \centering\vfill
    \includegraphics[scale=0.17]{../4_classification/images/svm/svm_g_1_1000000.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny  $C=10^6$ - overfitting\par
  \end{overlayarea}
 \end{column}
\end{columns}

\item Best cross-validation (stratified 3-folds) of $84.07$\% obtained for $\gamma = 0.01$ (confident value to avoid overfitting).

\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
    \centering\vfill
     \includegraphics[scale=0.17]{../4_classification/images/svm/svm_g_100.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny $\gamma=100$ - overfitting\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{2cm}
    \centering\vfill
    \includegraphics[scale=0.17]{../4_classification/images/svm/svm_g_001.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny  $\gamma=0.01$ - no overfitting\par
  \end{overlayarea}
 \end{column}
\end{columns}

\end{itemize}
\end{frame}
\begin{frame}

\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/France/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/France/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}

\begin{columns}
\begin{column}{0.6\textwidth}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix after refitting\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 28569 & 3632 & 251 & 51 & 27 & 3\\
    \hline
    \textbf{2} & 77 & 1021 & 139 & 11 & 1 & 3\\
    \hline
    \textbf{3} & 1 & 25 & 254 & 7 & 0 & 1\\
    \hline
    \textbf{4} & 0 & 0 & 3 & 75 & 0 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 0 & 0 & 15 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 24\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
\end{column}
\begin{column}{0.6\textwidth}
%    \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny 
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting\end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score}& \textbf{n}\\
%       \hline
%       \textbf{1} & 99.7\% & 87.8\% & 0.934 & 32533\\
%       \hline
%       \textbf{2} & 21.8\% & 81.5\% & 0.344 & 1252\\
%       \hline
%       \textbf{3} & 39.3\% & 88.2\% & 0.543 & 288\\
%       \hline
%       \textbf{4} & 52.1\% & 96.2\% & 0.676 & 78\\
%       \hline
%       \textbf{5} & 34.9\% & 100.0\% & 0.517 & 15\\
%       \hline
%       \textbf{6} & 77.4\% & 100.0\% & 0.873 & 24\\
%       \hline
%       \textbf{total} & 96.2\% & 87.6\% & 0.908 & 34190\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/France/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification_roc.png}
\end{column}
\end{columns}
\end{frame}



\subsection{Neural Network}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{itemize}
 \item Overcome imbalanced data by majoring error on minority class using weight: $w_i=\frac{n_1}{n_i}$.
  \item Best cross-validation (stratified 3-folds) of $90.46$\% obtained for :
  {\scriptsize
  \begin{itemize}
    \item One layer of $1200$ neurons
    \item Stochastic Gradient Descent learning rate of $0.001$ 
    \item Penalization of $0.001$. 
    \end{itemize}
  }
  \item Early stopping activation to avoid overfitting (i.e. stop iterative training when no more validation score improvment)
  \begin{columns}
 \begin{column}{\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.15]{../4_classification/images/earlystopping.png}
  \end{overlayarea}
 \end{column}
 \end{columns}
 
 \end{itemize}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/France/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/France/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}

\begin{columns}
\begin{column}{0.6\textwidth}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix after refitting\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 29743 & 2281 & 367 & 95 & 24 & 23\\
    \hline
    \textbf{2} & 207 & 853 & 164 & 23 & 2 & 3\\
    \hline
    \textbf{3} & 2 & 36 & 236 & 9 & 2 & 3\\
    \hline
    \textbf{4} & 0 & 0 & 2 & 76 & 0 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 0 & 0 & 15 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 24\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
\end{column}
\begin{column}{0.6\textwidth}
%    \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny 
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 99.3\% & 91.4\% & 0.952 & 32533\\
%       \hline
%       \textbf{2} & 26.9\% & 68.1\% & 0.385 & 1252\\
%       \hline
%       \textbf{3} & 30.6\% & 81.9\% & 0.446 & 288\\
%       \hline
%       \textbf{4} & 37.4\% & 97.4\% & 0.541 & 78\\
%       \hline
%       \textbf{5} & 34.9\% & 100.0\% & 0.517 & 15\\
%       \hline
%       \textbf{6} & 45.3\% & 100.0\% & 0.623 & 24\\
%       \hline
%       \textbf{total} & 95.9\% & 90.5\% & 0.926 & 34190\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/France/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling_roc.png}
\end{column}
\end{columns}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
     \includegraphics[scale=0.25]{../../data/France/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_classification_error.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France density classification error ($y_{pred}-y_{true}$)\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/France/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_covering.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny France cloudyness\par
  \end{overlayarea}
 \end{column}
\end{columns}
{\tiny
\begin{itemize}
\item Green points shows that a lot of low densities (category 1) are predicted as high densities (categorie 5/6) (see Corsica). 
\item This can be related to cloudyness that provides zero values for NDVI like high densities does:
\end{itemize}
\begin{columns}


 \begin{column}{0.12\textwidth}
 \textbf{Silvareccio}\\
 cloudyness : 49.5\%\\
 true : 1\\
 pred : 6\\
 error: 5\\
 \end{column}
 \begin{column}{0.1\textwidth}
  \begin{overlayarea}{\linewidth}{1.3cm}
    \centering\vfill
    \includegraphics[scale=0.60]{images/Silvareccio/08_rgb.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny rgb \par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.1\textwidth}
  \begin{overlayarea}{\linewidth}{1.3cm}
    \centering\vfill
    \includegraphics[scale=0.60]{images/Silvareccio/08_ndvi.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny ndvi \par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.12\textwidth}
  \begin{overlayarea}{\linewidth}{1.3cm}
    \centering\vfill
    \includegraphics[scale=0.07]{images/Silvareccio/08_ndvi_histo.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny histogram \par
  \end{overlayarea}
 \end{column}
 
 
 \begin{column}{0.07\textwidth}
 \end{column}
 
 \begin{column}{0.12\textwidth}
 \textbf{Porri}\\
 cloudyness : 0.0\%\\
 true : 1\\
 pred : 1\\
 error: 0\\
 \end{column}
 \begin{column}{0.1\textwidth}
  \begin{overlayarea}{\linewidth}{1.3cm}
    \centering\vfill
    \includegraphics[scale=0.60]{images/Porri/08_rgb.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny rgb \par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.1\textwidth}
  \begin{overlayarea}{\linewidth}{1.3cm}
    \centering\vfill
    \includegraphics[scale=0.60]{images/Porri/08_ndvi.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny ndvi \par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.12\textwidth}
  \begin{overlayarea}{\linewidth}{1.3cm}
    \centering\vfill
    \includegraphics[scale=0.07]{images/Porri/08_ndvi_histo.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny histogram \par
  \end{overlayarea}
 \end{column}
 
 
\end{columns}
}
\end{frame}



\section{Testing classification}
\begin{frame}
\tableofcontents[currentsection]
\end{frame}

\subsection{Data}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{itemize}
{\scriptsize
 \item Take ground truth densities and surfaces for \href{https://www.bfs.admin.ch/bfs/fr/home/statistiques/population/effectif-evolution/population.assetdetail.1401563.html}{Switzerland} (2013),
  \href{https://fr.wikipedia.org/wiki/Liste_des_communes_de_Belgique_par_population}{Belgium} (2015)  and \href{https://www.citypopulation.de/php/netherlands-admin.php}{Netherlands} (2014).
 \begin{columns}
  \begin{column}{0.33\textwidth}
   \begin{table}
   \begin{center}
   \begin{adjustbox}{max width=0.5\textwidth}
    \begin{tabular}{|c|c|}
      \hline
      \multicolumn{2}{|c|}{\begin{bf}Switzerland (2013)\end{bf}} \\
      \hline
      \textbf{category} & \textbf{number of samples}\\
      \hline
      \textbf{1} & 1857\\
      \hline
      \textbf{2} & 428\\
      \hline
      \textbf{3} & 57\\
      \hline
      \textbf{4} & 9\\
      \hline
      \textbf{5} & 1\\
      \hline
      \textbf{6} & 0 \\
      \hline
      \textbf{total} & 2352\\
      \hline
    \end{tabular}
   \end{adjustbox}
   \end{center}
   \end{table}
  \end{column}
  \begin{column}{0.33\textwidth}
   \begin{table}
   \begin{center}
   \begin{adjustbox}{max width=0.5\textwidth}
    \begin{tabular}{|c|c|}
      \hline
      \multicolumn{2}{|c|}{\begin{bf}Belgium (2015)\end{bf}} \\
      \hline
      \textbf{category} & \textbf{number of samples}\\
      \hline
      \textbf{1} & 406\\
      \hline
      \textbf{2} & 154\\
      \hline
      \textbf{3} & 14\\
      \hline
      \textbf{4} & 7\\
      \hline
      \textbf{5} & 1\\
      \hline
      \textbf{6} & 7\\
      \hline
      \textbf{total} & 589\\
      \hline
    \end{tabular}
   \end{adjustbox}
   \end{center}
   \end{table}
  \end{column}
  \begin{column}{0.33\textwidth}
   \begin{table}
   \begin{center}
   \begin{adjustbox}{max width=0.5\textwidth}
    \begin{tabular}{|c|c|}
      \hline
      \multicolumn{2}{|c|}{\begin{bf}Netherlands (2014)\end{bf}} \\
      \hline
      \textbf{category} & \textbf{number of samples}\\
      \hline
      \textbf{1} & 234\\
      \hline
      \textbf{2} & 121\\
      \hline
      \textbf{3} & 31\\
      \hline
      \textbf{4} & 1\\
      \hline
      \textbf{5} & 0\\
      \hline
      \textbf{6} & 0 \\
      \hline
      \textbf{total} & 388\\
      \hline
    \end{tabular}
   \end{adjustbox}
   \end{center}
   \end{table}
  \end{column}
 \end{columns}
 \item Take longitudes and latitudes of each city using Google geolocator
 \item Take corresponding Landsat-8 datasets for each country in the corresponding year (between May and September, day acquisition, cloud covering $\leq$ 20\%)
 \begin{columns}
  \begin{column}{0.33\textwidth}
  \begin{overlayarea}{\linewidth}{3cm}
    \centering\vfill
    \includegraphics[scale=0.20]{../../data/Suisse/covering-selection.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{1cm}
    \centering
    \tiny Switzerland datasets georeferenced in \begin{itshape}Web Mercator\end{itshape} system\par
  \end{overlayarea}
  \end{column}
  \begin{column}{0.33\textwidth}
   \begin{overlayarea}{\linewidth}{3cm}
    \centering\vfill
    \includegraphics[scale=0.20]{../../data/Belgique/covering-selection.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{1cm}
    \centering
    \tiny Belgium datasets georeferenced in \begin{itshape}Web Mercator\end{itshape} system\par
  \end{overlayarea}
  \end{column}
  \begin{column}{0.33\textwidth}
  \begin{overlayarea}{\linewidth}{3cm}
    \centering\vfill
    \includegraphics[scale=0.20]{../../data/Pays-Bas/covering-selection.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{1cm}
    \centering
    \tiny Netherlands datasets georeferenced in \begin{itshape}Web Mercator\end{itshape} system\par
  \end{overlayarea}
  \end{column}
 \end{columns}
}
\end{itemize}

\end{frame}


\subsection{Nearest Neighbors}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Suisse/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Switzerland density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Suisse/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Switzerland density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 1411 & 396 & 33 & 8 & 3 & 6\\
    \hline
    \textbf{2} & 114 & 268 & 40 & 6 & 0 & 0\\
    \hline
    \textbf{3} & 1 & 35 & 16 & 5 & 0 & 0\\
    \hline
    \textbf{4} & 1 & 4 & 2 & 0 & 1 & 1\\
    \hline
    \textbf{5} & 0 & 0 & 0 & 0 & 1 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%    {\tiny
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n} \\
%       \hline
%       \textbf{1} & 92.4\% & 76.0\% & 0.834 & 1857\\
%       \hline
%       \textbf{2} & 38.1\% & 62.6\% & 0.474 & 428\\
%       \hline
%       \textbf{3} & 17.6\% & 28.1\% & 0.216 & 57\\
%       \hline
%       \textbf{4} & 0.0\% & 0.0\% & 0.000 & 9\\
%       \hline
%       \textbf{5} & 20.0\% & 100.0\% & 0.333 & 1 \\
%       \hline
%       \textbf{6} & - & - & - & 0\\
%       \hline
%       \textbf{total} & 80.3\% & 72.1\% & 0.750 & 2352\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/Suisse/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification_roc.png}
\end{column}
\end{columns}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Belgique/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Belgium density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Belgique/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Belgium density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 351 & 48 & 7 & 0 & 0 & 0\\
    \hline
    \textbf{2} & 59 & 71 & 19 & 4 & 1 & 0\\
    \hline
    \textbf{3} & 1 & 6 & 5 & 2 & 0 & 0\\
    \hline
    \textbf{4} & 0 & 0 & 2 & 3 & 2 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 1 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 2 & 3 & 0 & 2\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 85.4\% & 86.5\% & 0.859 & 406\\
%       \hline
%       \textbf{2} & 56.8\% & 46.1\% & 0.509 & 154\\
%       \hline
%       \textbf{3} & 13.9\% & 35.7\% & 0.200 & 14\\
%       \hline
%       \textbf{4} & 25.0\% & 42.9\% & 0.316 & 7\\
%       \hline
%       \textbf{5} & 0.0\% & 0.0\% & 0.000 & 1\\
%       \hline
%       \textbf{6} & 100.0 & 28.6 & 0.444 & 7\\
%       \hline
%       \textbf{total} & 75.5\% & 73.3\% & 0.739 & 589\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/Belgique/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification_roc.png}
\end{column}
\end{columns}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Pays-Bas/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Netherlands density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Pays-Bas/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Netherlands density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 187 & 38 & 9 & 0 & 0 & 0\\
    \hline
    \textbf{2} & 41 & 46 & 28 & 4 & 0 & 2\\
    \hline
    \textbf{3} & 2 & 6 & 16 & 6 & 1 & 0\\
    \hline
    \textbf{4} & 0 & 0 & 1 & 1 & 0 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny 
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 81.3\% & 79.9\% & 0.806 & 234\\
%       \hline
%       \textbf{2} & 51.1\% & 38.0\% & 0.436 & 121\\
%       \hline
%       \textbf{3} & 29.6\% & 51.6\% & 0.376 & 31\\
%       \hline
%       \textbf{4} & 9.1\% & 50.0\% & 0.154 & 2\\
%       \hline
%       \textbf{5} & - & - & - & 0\\
%       \hline
%       \textbf{6} & - & - & - & 0\\
%       \hline
%       \textbf{total} & 67.4\% & 64.4\% & 0.653 & 388\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/Pays-Bas/test/Nearest_Neighboors_Classification/Nearest_Neighboors_Classification_roc.png}
\end{column}
\end{columns}
\end{frame}



\subsection{Support Vector Machine (Gaussian Kernel)}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Suisse/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Switzerland density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Suisse/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Switzerland density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 1471 & 381 & 3 & 1 & 1 & 0\\
    \hline
    \textbf{2} & 114 & 296 & 17 & 0 & 1 & 0\\
    \hline
    \textbf{3} & 5 & 37 & 14 & 1 & 0 & 0\\
    \hline
    \textbf{4} & 1 & 0 & 6 & 0 & 1 & 1\\
    \hline
    \textbf{5} & 1 & 0 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%    {\tiny
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n} \\
%       \hline
%       \textbf{1} & 92.4\% & 79.2\% & 0.853 & 1857\\
%       \hline
%       \textbf{2} & 41.5\% & 69.2\% & 0.519 & 428\\
%       \hline
%       \textbf{3} & 35.0\% & 24.6\% & 0.289 & 57\\
%       \hline
%       \textbf{4} & 0.0\% & 0.0\% & 0.000 & 9\\
%       \hline
%       \textbf{5} & 0.0\% & 0.0\% & 0.000 & 1 \\
%       \hline
%       \textbf{6} & - & - & - & 0\\
%       \hline
%       \textbf{total} & 81.3\% & 75.7\% & 0.775 & 2352\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/Suisse/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification_roc.png}
\end{column}
\end{columns}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Belgique/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Belgium density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Belgique/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Belgium density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 378 & 28 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{2} & 88 & 59 & 6 & 1 & 0 & 0\\
    \hline
    \textbf{3} & 2 & 7 & 3 & 2 & 0 & 0\\
    \hline
    \textbf{4} & 1 & 1 & 3 & 1 & 0 & 1\\
    \hline
    \textbf{5} & 0 & 0 & 1 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 1 & 1 & 0 & 1 & 0 & 4\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 80.4\% & 93.1\% & 0.863 & 406\\
%       \hline
%       \textbf{2} & 61.5\% & 38.3\% & 0.472 & 154\\
%       \hline
%       \textbf{3} & 23.1\% & 21.4\% & 0.222 & 14\\
%       \hline
%       \textbf{4} & 20.0\% & 14.3\% & 0.167 & 7\\
%       \hline
%       \textbf{5} & 0.0\% & 0.0\% & 0.000 & 1\\
%       \hline
%       \textbf{6} & 80.0 & 57.1 & 0.667 & 7\\
%       \hline
%       \textbf{total} & 73.2\% & 75.6\% & 0.733 & 589\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/Belgique/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification_roc.png}
\end{column}
\end{columns}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Pays-Bas/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Netherlands density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Pays-Bas/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Netherlands density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 233 & 1 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{2} & 80 & 32 & 8 & 1 & 0 & 0\\
    \hline
    \textbf{3} & 12 & 8 & 7 & 4 & 0 & 0\\
    \hline
    \textbf{4} & 2 & 0 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny 
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 71.3\% & 99.6\% & 0.831 & 234\\
%       \hline
%       \textbf{2} & 78.0\% & 26.4\% & 0.395 & 121\\
%       \hline
%       \textbf{3} & 46.7\% & 22.6\% & 0.304 & 31\\
%       \hline
%       \textbf{4} & 0.0\% & 0.0\% & 0.000 & 2\\
%       \hline
%       \textbf{5} & - & - & - & 0\\
%       \hline
%       \textbf{6} & - & - & - & 0\\
%       \hline
%       \textbf{total} & 71.0\% & 70.1\% & 0.648 & 388\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/Pays-Bas/test/Support_Vector_Gaussian_Classification/Support_Vector_Gaussian_Classification_roc.png}
\end{column}
\end{columns}
\end{frame}



\subsection{Neural Network}
\begin{frame}
\tableofcontents[currentsubsection]
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Suisse/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Switzerland density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Suisse/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Switzerland density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 1601 & 244 & 7 & 4 & 1 & 0\\
    \hline
    \textbf{2} & 158 & 249 & 18 & 2 & 1 & 0\\
    \hline
    \textbf{3} & 2 & 36 & 16 & 3 & 0 & 0\\
    \hline
    \textbf{4} & 1 & 0 & 5 & 1 & 0 & 2\\
    \hline
    \textbf{5} & 1 & 0 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%    {\tiny
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n} \\
%       \hline
%       \textbf{1} & 90.8\% & 86.2\% & 0.885 & 1857\\
%       \hline
%       \textbf{2} & 47.1\% & 58.2\% & 0.520 & 428\\
%       \hline
%       \textbf{3} & 34.8\% & 28.1\% & 0.311 & 57\\
%       \hline
%       \textbf{4} & 10.0\% & 11.1\% & 0.105 & 9\\
%       \hline
%       \textbf{5} & 0.0\% & 0.0\% & 0.000 & 1 \\
%       \hline
%       \textbf{6} & - & - & - & 0\\
%       \hline
%       \textbf{total} & 81.1\% & 79.4\% & 0.801 & 2352\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
      \centering\vfill
      \includegraphics[scale=0.18]{../../data/Suisse/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling_roc.png}
\end{column}
\end{columns}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Belgique/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Belgium density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Belgique/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Belgium density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 363 & 41 & 2 & 0 & 0 & 0\\
    \hline
    \textbf{2} & 73 & 60 & 19 & 2 & 0 & 0\\
    \hline
    \textbf{3} & 1 & 6 & 6 & 1 & 0 & 0\\
    \hline
    \textbf{4} & 1 & 0 & 2 & 2 & 2 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 1 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 0 & 2 & 0 & 1 & 0 & 4\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 82.9\% & 89.4\% & 0.860 & 406\\
%       \hline
%       \textbf{2} & 55.0\% & 39.0\% & 0.456 & 154\\
%       \hline
%       \textbf{3} & 20.0\% & 42.9\% & 0.273 & 14\\
%       \hline
%       \textbf{4} & 33.3\% & 28.6\% & 0.308 & 7\\
%       \hline
%       \textbf{5} & 0.0\% & 0.0\% & 0.000 & 1\\
%       \hline
%       \textbf{6} & 100.0 & 57.1 & 0.727 & 7\\
%       \hline
%       \textbf{total} & 73.6\% & 73.9\% & 0.731 & 589\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
       \centering\vfill
      \includegraphics[scale=0.18]{../../data/Belgique/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling_roc.png}
\end{column}
\end{columns}
\end{frame}

\begin{frame}
\begin{columns}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Pays-Bas/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_ground_truth.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Netherlands density category - ground truth\par
  \end{overlayarea}
 \end{column}
 \begin{column}{0.5\textwidth}
  \begin{overlayarea}{\linewidth}{4cm}
    \centering\vfill
    \includegraphics[scale=0.25]{../../data/Pays-Bas/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling/density_classification.png}
  \end{overlayarea}
  \begin{overlayarea}{\linewidth}{0.5cm}
    \centering
    \tiny Netherlands density category - prediction\par
  \end{overlayarea}
 \end{column}
\end{columns}
\begin{columns}
 \begin{column}{0.6\textwidth}
 \begin{overlayarea}{\linewidth}{2cm}
  \begin{table}
  \begin{center}
  \begin{adjustbox}{max width=0.6\textwidth}
  {\tiny
  \begin{tabular}{|c|c|c|c|c|c|c|}
    \hline
    \multicolumn{7}{|c|}{{\tiny \begin{bf}Confusion matrix\end{bf}}} \\
    \hline
     & \textbf{1} & \textbf{2} & \textbf{3} & \textbf{4} & \textbf{5} & \textbf{6}\\
    \hline
    \textbf{1} & 277 & 5 & 2 & 0 & 0 & 0\\
    \hline
    \textbf{2} & 54 & 47 & 14 & 5 & 1 & 0\\
    \hline
    \textbf{3} & 2 & 6 & 14 & 9 & 0 & 0\\
    \hline
    \textbf{4} & 0 & 0 & 1 & 1 & 0 & 0\\
    \hline
    \textbf{5} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
    \textbf{6} & 0 & 0 & 0 & 0 & 0 & 0\\
    \hline
  \end{tabular}
  }
  \end{adjustbox}
  \end{center}
  \end{table}
 \end{overlayarea}
 \end{column}
 \begin{column}{0.6\textwidth}
%   \begin{table}
%     \begin{center}
%     \begin{adjustbox}{max width=0.6\textwidth}
%     {\tiny 
%     \begin{tabular}{|c|c|c|c|c|}
%       \hline
%       \multicolumn{5}{|c|}{\begin{bf}precision and recall per class after refitting \end{bf}} \\
%       \hline
%       \textbf{category} & \textbf{precision}  & \textbf{recall} & \textbf{f1-score} & \textbf{n}\\
%       \hline
%       \textbf{1} & 80.2\% & 97.0\% & 0.878 & 234\\
%       \hline
%       \textbf{2} & 81.0\% & 38.8\% & 0.525 & 121\\
%       \hline
%       \textbf{3} & 45.2\% & 45.2\% & 0.452 & 31\\
%       \hline
%       \textbf{4} & 6.7\% & 50\% & 0.118 & 2\\
%       \hline
%       \textbf{5} & - & - & - & 0\\
%       \hline
%       \textbf{6} & - & - & - & 0\\
%       \hline
%       \textbf{total} & 77.3\% & 74.5\% & 0.730 & 388\\
%       \hline
%     \end{tabular}
%     }
%     \end{adjustbox}
%     \end{center}
%   \end{table}
       \centering\vfill
      \includegraphics[scale=0.18]{../../data/Pays-Bas/test/Neural_Network_Classification-oversampling/Neural_Network_Classification-oversampling_roc.png}
\end{column}
\end{columns}
\end{frame}

\subsection{Discussion}
\begin{itemize}
 \item Training Area Under Curve
 \begin{table}
    \begin{center}
    \begin{adjustbox}{max width=0.9\textwidth}
    {\scriptsize
    \begin{tabular}{|c|c|}
      \hline
      \multicolumn{2}{|c|}{\begin{bf} Mean AUC \end{bf}} \\
      \hline
      \textbf{Classifier} & \textbf{France} \\
      \hline
      Nearest Neighbors & 1.00\\
      \hline
      Support Vector Machine (Gaussian) & 0.96\\
      \hline
      Neural Network & 0.98\\
      \hline
    \end{tabular}
    }
    \end{adjustbox}
    \end{center}
  \end{table}
  
  \item Testing Area Under Curve
 \begin{table}
    \begin{center}
    \begin{adjustbox}{max width=0.9\textwidth}
    {\scriptsize
    \begin{tabular}{|c|c|c|c|}
      \hline
      \multicolumn{4}{|c|}{\begin{bf} Mean AUC\end{bf}} \\
      \hline
      \textbf{Classifier} & \textbf{Switzerland} & \textbf{Belgium} & \textbf{The Netherlands}\\
      \hline
      Nearest Neighbors & 0.89 & 0.87 & 0.85\\
      \hline
      Support Vector Machine (Gaussian) & 0.94 & 0.95 & 0.94\\
      \hline
      Neural Network & 0.97 & 0.97 & 0.96\\
      \hline
    \end{tabular}
    }
    \end{adjustbox}
    \end{center}
  \end{table}
  \item Nearest Neighbors clearly overfitted (important gap between training and testing)
  \item Best Generalization for Neural Network
  
\end{itemize}

\section{Conclusion}
\begin{frame}
 \begin{itemize}
  \item practical improvment : Get higher dimensional features and train it using cluster-distributed features and Spark MLib or Hadoop XGBoost. 
  \item theoretical improvment : Overcome local cloudyness with a finer NDVI. For example, indice \href{http://e-cours.univ-paris1.fr/modules/uved/envcal/html/vegetation/indices/qques-indices/indices-effets-atmosphere.html}{GEMI}.
  
\[GEMI=\eta(1-0.25\eta)-\frac{R-0.25}{1-R}\]

\[\eta=\frac{2(NIR^2-R^2)+1.5NIR+0.5R}{NIR+R}\]

 \end{itemize}

\end{frame}


\end{document}
